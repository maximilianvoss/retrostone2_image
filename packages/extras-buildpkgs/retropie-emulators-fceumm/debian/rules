#!/usr/bin/make -f

export DH_VERBOSE = 1

INSTALL_BASEDIR=debian/retropie-emulators-fceumm

INSTALL=opt/retropie/libretrocores/lr-fceumm/* \
opt/retropie/configs/nes/* \
opt/retropie/configs/fds/*

%:
	dh $@

override_dh_auto_build:
	./retropie_packages.sh lr-fceumm depends
	./retropie_packages.sh lr-fceumm sources
	./retropie_packages.sh lr-fceumm build

override_dh_builddeb:
	dh_builddeb -- -Zgzip -z9

override_dh_install:
	./retropie_packages.sh lr-fceumm install
	./retropie_packages.sh lr-fceumm configure

	for file in $(INSTALL); do \
		mkdir -p $(INSTALL_BASEDIR)/$$(dirname $$file); \
		ls /$$file; \
		mv /$$file $(INSTALL_BASEDIR)/$$(dirname $$file)/; \
	done

override_dh_usrlocal:

override_dh_auto_test:

override_dh_auto_configure:

override_dh_strip_nondeterminism: