#!/usr/bin/make -f

export DH_VERBOSE = 1

INSTALL_BASEDIR=debian/retropie-emulators-beetle-ngp

INSTALL=opt/retropie/configs/all/retroarch/cores/mednafen_ngp_libretro.info \
opt/retropie/configs/all/retroarch/shaders/handheld/console-border/ngpc-*.glslp \
opt/retropie/configs/all/retroarch/shaders/handheld/console-border/resources/ngpc-border-square-4x.png \
opt/retropie/configs/ngp/* \
opt/retropie/configs/ngpc/* \
opt/retropie/libretrocores/lr-beetle-ngp

%:
	dh $@

copydata:
	for file in $(INSTALL); do \
		mkdir -p "$(INSTALL_BASEDIR)/$$(dirname $$file)"; \
		mv "/$$file $(INSTALL_BASEDIR)/$$(dirname $$file)/"; \
	done

override_dh_auto_build:
	./retropie_packages.sh lr-beetle-ngp depends
	./retropie_packages.sh lr-beetle-ngp sources
	./retropie_packages.sh lr-beetle-ngp build

override_dh_builddeb:
	dh_builddeb -- -Zgzip -z9

override_dh_install:
	./retropie_packages.sh lr-beetle-ngp install
	./retropie_packages.sh lr-beetle-ngp configure
	copydata


override_dh_usrlocal:

override_dh_auto_test:

override_dh_auto_configure:

dh_strip_nondeterminism:
