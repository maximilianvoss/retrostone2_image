#!/usr/bin/make -f

export DH_VERBOSE = 1

INSTALL_BASEDIR=debian/retropie-emulators-genesis

INSTALL=opt/retropie/libretrocores/lr-genesis-plus-gx/* \
opt/retropie/configs/gaemgear/* \
opt/retropie/configs/mastersystem/* \
opt/retropie/configs/megadrive/* \
opt/retropie/configs/sg-1000/* \
opt/retropie/configs/segacd/*

%:
	dh $@

override_dh_auto_build:
	./retropie_packages.sh lr-genesis-plus-gx depends
	./retropie_packages.sh lr-genesis-plus-gx sources
	./retropie_packages.sh lr-genesis-plus-gx build

override_dh_builddeb:
	dh_builddeb -- -Zgzip -z9

override_dh_install:
	./retropie_packages.sh lr-genesis-plus-gx install
	./retropie_packages.sh lr-genesis-plus-gx configure

	for file in $(INSTALL); do \
		mkdir -p $(INSTALL_BASEDIR)/$$(dirname $$file); \
		ls /$$file; \
		mv /$$file $(INSTALL_BASEDIR)/$$(dirname $$file)/; \
	done

override_dh_usrlocal:

override_dh_auto_test:

override_dh_auto_configure:

override_dh_strip_nondeterminism: